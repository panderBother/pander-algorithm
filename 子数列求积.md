> [å­æ•°åˆ—æ±‚ç§¯](https://www.nowcoder.com/practice/5daab034da954f5697dcf96c1808d34f?tpId=386&tqId=11262447&sourceUrl=%2Fexam%2Foj%3FquestionJobId%3D10%26subTabName%3Donline_coding_page)ï¼ˆæ¥æºï¼šç‰›å®¢ï¼ˆnewcoderï¼‰ï¼‰
>
> ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º ğ‘›*n* çš„æ­£æ•´æ•°åºåˆ— {ğ‘1,ğ‘2,â€¦,ğ‘ğ‘›}{*a*1,*a*2,â€¦,*a**n*} ã€‚æ¥ä¸‹æ¥æœ‰ ğ‘*q* æ¬¡ç‹¬ç«‹æŸ¥è¯¢ï¼Œç¬¬ ğ‘—*j* æ¬¡æŸ¥è¯¢ç»™å‡ºä¸€å¯¹ä¸‹æ ‡ ğ‘™ğ‘—,ğ‘Ÿğ‘—*l**j*,*r**j* ï¼Œè¯·ä½ è®¡ç®—åŒºé—´ä¹˜ç§¯
>
> ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° ğ‘›,ğ‘(1â‰¦ğ‘›,ğ‘â‰¦105)*n*,*q*(1â‰¦*n*,*q*â‰¦105) ï¼Œåˆ†åˆ«è¡¨ç¤ºåºåˆ—é•¿åº¦ä¸æŸ¥è¯¢æ•°é‡ã€‚
> ç¬¬äºŒè¡Œè¾“å…¥ ğ‘›*n* ä¸ªæ•´æ•° ğ‘1,ğ‘2,â€¦,ğ‘ğ‘›(1â‰¦ğ‘ğ‘–<109+7)*a*1,*a*2,â€¦,*a*n*(1â‰¦*a*i*<109+7) ï¼Œè¡¨ç¤ºåºåˆ—å…ƒç´ ã€‚
> æ­¤å *q* è¡Œï¼Œç¬¬ ğ‘—*j* è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° ğ‘™ğ‘—,ğ‘Ÿğ‘—(1â‰¦ğ‘™ğ‘—â‰¦ğ‘Ÿğ‘—â‰¦ğ‘›)*l*j*,*r*j*(1â‰¦*lj*â‰¦*r*j*â‰¦*n*) ï¼Œè¡¨ç¤ºä¸€æ¬¡æŸ¥è¯¢çš„å·¦å³ç«¯ç‚¹ã€‚
>
> è¾“å…¥ï¼š
>
> 5 3
> 1 2 3 4 5
> 1 2
> 1 3
> 2 5
>
> è¾“å‡ºï¼š2 6 120



> ç”¨å‰ç¼€ç§¯æ¥æ±‚ï¼Œä»¥åŠé€†å…ƒçš„çŸ¥è¯†æ¥æ±‚
>
> æ¨¡è¿ç®—ä¸­ä¸èƒ½ç›´æ¥ç”¨é™¤æ³•ï¼Œéœ€è¦ç”¨**ä¹˜æ³•é€†å…ƒ**æ›¿ä»£ã€‚å¯¹äºè´¨æ•° `MOD`ï¼Œæ ¹æ®**è´¹é©¬å°å®šç†**ï¼Œ`a` çš„é€†å…ƒä¸º `a^(MOD-2) % MOD`ã€‚
>
>  `a^(MOD-2) % MOD`æœ€å¿«çš„æ–¹æ³•æ˜¯ç”¨å¿«é€Ÿå¹‚æ¥æ±‚ã€‚

```java
import java.util.Scanner;

// æ³¨æ„ç±»åå¿…é¡»ä¸º Main, ä¸è¦æœ‰ä»»ä½• package xxx ä¿¡æ¯
public class Main {
    static int mod=1000000007;
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
        int n=in.nextInt();
        int q=in.nextInt();
        long nums[]=new long[n+1];
        nums[0]=1;
        for(int i=1;i<=n;i++){
          long num=in.nextLong();
            nums[i]=nums[i-1]*num%mod;
        }
        for(int i=0;i<q;i++){
        int l=in.nextInt();
        int r=in.nextInt();
        long res=nums[r]*pow(nums[l-1],mod-2)%mod;
        System.out.print(res+" ");
        }
    }
   static long pow(long a, long b) {
    long res = 1; // ç»“æœåˆå§‹å€¼ä¸º1
    while (b > 0) {
        if (b % 2 == 1) { // è‹¥æŒ‡æ•°ä¸ºå¥‡æ•°ï¼Œå°†å½“å‰åº•æ•°ä¹˜å…¥ç»“æœ
            res = res * a % mod;
        }
        a = a * a % mod; // åº•æ•°å¹³æ–¹ï¼ˆæŒ‡æ•°æŠ˜åŠï¼‰
        b /= 2; // æŒ‡æ•°æŠ˜åŠ
    }
    return res;
}
}
```

